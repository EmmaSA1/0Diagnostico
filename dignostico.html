<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Pokedex Simple</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

  <div class="container text-center mt-4">
    <h1>Pok√©dex</h1>
    <div id="pokemon-list" class="row mt-3"></div>
    <div class="mt-3">
      <button id="prev" class="btn btn-secondary" disabled>Anterior</button>
      <button id="next" class="btn btn-primary">Siguiente</button>
    </div>
  </div>

  <script>
    const API_URL = "https://pokeapi.co/api/v2/pokemon/";
    let offset = 0;
    const limit = 20;

    const listContainer = document.getElementById("pokemon-list");
    const prevBtn = document.getElementById("prev");
    const nextBtn = document.getElementById("next");

    function loadPokemons() {
      listContainer.innerHTML = "<p>Cargando...</p>";

      fetch(API_URL + "?limit=" + limit + "&offset=" + offset)
        .then(response => response.json())
        .then(data => {
          listContainer.innerHTML = "";
          data.results.forEach(pokemon => {
            fetch(pokemon.url)
              .then(r => r.json())
              .then(info => {
                let div = document.createElement("div");
                div.className = "col-6 col-md-4 mb-3";
                div.innerHTML = `
                  <div class="border p-2">
                    <img src="${info.sprites.front_default}" width="80"><br>
                    <strong>${info.name}</strong><br>
                    <small>ID: ${info.id}</small>
                  </div>
                `;
                listContainer.appendChild(div);
              });
          });
          prevBtn.disabled = offset === 0;
        });
    }

    nextBtn.onclick = function() {
      offset += limit;
      loadPokemons();
    };

    prevBtn.onclick = function() {
      if (offset >= limit) {
        offset -= limit;
        loadPokemons();
      }
    };

    loadPokemons();
  </script>
</body>
</html>